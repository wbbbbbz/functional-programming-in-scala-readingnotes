# 1 什么是函数式编程
> 函数没有副作用（side effects）。一个带有副作用的函数不仅只是简单地返回一个值，还干了一些其他事情，比如修改变量，修改数据结构，抛出异常，读写文件等等。

- 例子：购买咖啡，信用卡结账
  - 将购买咖啡作为方法，信用卡结账作为副作用时，测试信用卡结账会变得复杂。并且本方法面对多个咖啡的时候很难复用
  - 将咖啡和费用两个信息作为出参，不产生副作用的话，重复利用很方便，并且不需要实现支付的mock进行测试。

- 引用透明（referential transparency）
  - 纯函数的形式化。不论进行了任何操作都可以用返回值来替代。
  - 引用透明使得程序具备了等式推理（equational reasoning）的能力。因为每一步都是将计算中的某一项用等价值替代。代替模型（substitution model）。
  - 比如2 + 3，因为没有副作用，每次计算都是5。所以在程序中可以直接用5代替。
  - > 替代模型则很容易推理，因为对运算的影响纯粹是局部的（只对那些赋值表达式产生影响），不需要先在内心模拟一系列状态的更新才理解这一段代码。只需要理解局部的推理（local reasoning），不必费心地去跟踪函数执行前后的状态变化，只用简单地看一下函数的定义，把它替换成一个参数。